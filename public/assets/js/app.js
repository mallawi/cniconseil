/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};

/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {

/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;

/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};

/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);

/******/ 		// Flag the module as loaded
/******/ 		module.l = true;

/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}


/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;

/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;

/******/ 	// identity function for calling harmory imports with the correct context
/******/ 	__webpack_require__.i = function(value) { return value; };

/******/ 	// define getter function for harmory exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		Object.defineProperty(exports, name, {
/******/ 			configurable: false,
/******/ 			enumerable: true,
/******/ 			get: getter
/******/ 		});
/******/ 	};

/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};

/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };

/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";

/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ function(module, exports) {

eval("(function() {\n    \"use strict\";\n\n    // constructor function for XMLHttpRequest that return a promise\n    function XHRequest(progress) {\n\n        var pCb = progress;\n\n        function ajaxReq(method, url) {\n            var promise = new Promise( function (resolve, reject) {\n                var xhr = new XMLHttpRequest();\n\n                if (pCb) {\n                    xhr.addEventListener(\"progress\", pCb.progress);\n                    xhr.addEventListener(\"load\", pCb.load);\n                }\n\n                xhr.open(method, url);\n                xhr.responseType = \"document\";\n                xhr.send();\n\n                xhr.onreadystatechange = function() {\n                    if (this.readyState === 4) {\n                        if (this.status === 200) {\n                            resolve(this.response);\n                        } else {\n                            reject(this.status);\n                        }\n                    } else {\n                        \n                    }\n                }\n            });\n\n            return promise;\n        }\n\n        return {\n            get: function(url) {\n                return ajaxReq(\"GET\", url);\n            },\n            post: function(url) {\n                return ajaxReq(\"POST\", url);\n            }\n        }\n\n    }\n\n    var formsHandler;\n\n    function FormsHandler() {\n\n        return {\n            init: function() {\n                formsGetHandler();\n                // this.formHandler =  formsPostHandler;\n            },\n            makeChanges: function(data) {\n                var requestedData = data;\n                var formHolder = document.getElementById(\"form--container\");\n                var requestedForm = requestedData.getElementById(\"form--wrap\");\n\n                if (formHolder.classList.contains(\"form--shown\")) {\n                    // replace the form\n                    var oldForm = document.getElementById(\"form--wrap\");\n                    formHolder.replaceChild(requestedForm, oldForm);\n                    this.formRef.current.classList.add(\"forms--item-current\");\n                    this.formRef.old.classList.remove(\"forms--item-current\");\n                    this.formRef.old = this.formRef.current;\n                    console.log(\"replaced\");\n                } else { // if no form shown add\n                    formHolder.classList.add(\"form--shown\");\n                    this.formRef.current.classList.add(\"forms--item-current\");\n                    formHolder.appendChild(requestedForm);\n                    this.formRef.old = this.formRef.current;\n            \n                    this.formHandler.listen(formHolder.getElementsByClassName(\"form--btn\"));\n\n                    console.log(\"added\");\n                }\n            },\n            formRef: {\n                old: null,\n                current: null\n            },\n            formHandler: {\n                listen: function(formBtns) {\n                    console.log(formBtns);\n                    formBtns[0].addEventListener(\"submit\", function() {\n                        return false;\n                    });\n\n                    formBtns[1].addEventListener(\"submit\", function() {\n                        return false;\n                    });\n                }\n            }\n        }\n    }\n\n\n    function formsGetHandler() {\n        var formsItem = document.getElementsByClassName(\"forms--item\");\n        var currentFormRef;\n\n        var responseHandler = {\n            success: function(data) {\n                formsHandler.makeChanges(data);\n            },\n            failed: function(status) {\n                console.log(status);\n            }\n        }\n\n        var progressCb = {\n            progress: function(ev) {\n                currentFormRef.classList.add(\"form--item-progress\");\n            },\n            load: function(ev) {\n                currentFormRef.classList.remove(\"form--item-progress\");\n            }\n        }\n\n        function getForms(ev) {\n            ev.preventDefault();\n            ev.stopPropagation();\n\n            currentFormRef = this;\n            formsHandler.formRef.current = this;\n\n            var typeAttr = this.getAttribute(\"data-type\");\n\n            if (this.classList.contains(\"forms--item-current\")) {\n                 if (formsHandler.formRef.old && this === formsHandler.formRef.old) {\n                    var oldForm = document.getElementById(\"form--wrap\");\n                    var formHolder = document.getElementById(\"form--container\");\n                    formHolder.removeChild(oldForm);\n                    formHolder.classList.remove(\"form--shown\");\n                    currentFormRef.classList.remove(\"forms--item-current\");\n                    return;\n                }\n            }\n\n            var url = \"/form/\" + typeAttr;\n\n            var xhrequest = new XHRequest(progressCb);\n\n            xhrequest.get(url).then(responseHandler.success).catch(responseHandler.failed);\n        }\n\n        for (var i = 0; i < formsItem.length; i++) {\n            formsItem[i].addEventListener(\"click\", getForms);\n        }\n    }\n\n\n    var formsPostHandler = {\n        init: function(formEl) {\n            formEl.addEventListener(\"submit\", function() {\n                return false;\n            });\n        }\n    }\n\n    // function handler for handling slider from the index page\n    function sliderHandler() {\n        var sliderBtns = document.getElementsByClassName(\"slider--btn\");\n        var sliderItems = document.getElementsByClassName(\"slider--item\");\n        var prevBtn;\n        var nextBtn;\n        var itemIdx;\n        var currentItem;\n\n        // making changes to the slider\n        function changeSliderItem(current, item) {\n            current.classList.remove(\"slider--item-current\");\n            item.classList.add(\"slider--item-current\");\n            \n        }\n        \n        // object for handling btns and slider items logicaly\n        var sControl = {\n            previous: function(btn) {\n                if (nextBtn && nextBtn.disabled === true) {\n                    nextBtn.disabled = false;\n                }\n\n                for (var idx = 0; idx < sliderItems.length; idx++) {\n                    if (sliderItems[idx].classList.contains(\"slider--item-current\")) {\n                        if (idx + 1 === sliderItems.length ) {\n                            btn.disabled = true;\n                            return;\n                        }\n\n                        var item = idx + 1;\n                        changeSliderItem(sliderItems[idx], sliderItems[item]);\n                        break;\n                    }\n                }\n            },\n            next: function(btn) {\n                if (prevBtn && prevBtn.disabled === true) {\n                    prevBtn.disabled = false;\n                }\n\n                for (var idx = 0; idx < sliderItems.length; idx++) {\n                    if (sliderItems[idx].classList.contains(\"slider--item-current\")) {\n                        if (idx - 1 < 0 ) {\n                            btn.disabled = true;\n                            return;\n                        } \n\n                        var item = idx - 1;\n                        changeSliderItem(sliderItems[idx], sliderItems[item]);\n                        break;\n                    }\n                }\n            }\n        }\n\n        // event listener handler, determining the btn and calling the right action\n        function sBtnHandler(ev) {\n            ev.preventDefault();\n            ev.stopPropagation();\n\n            switch(this.name) {\n                case \"previous--btn\":\n                    sControl.previous(this);\n                    prevBtn = this;\n                    break;\n                case \"next--btn\":\n                    sControl.next(this);\n                    nextBtn = this;\n                    break;\n            }\n\n        }\n\n\n        // for loops to add event listeners to btns and iterating over slider items\n        \n        for (var i = 0; i < sliderBtns.length; i++) {\n            sliderBtns[i].addEventListener(\"click\", sBtnHandler);\n        }\n\n        for (var idx = 0; idx < sliderItems.length; idx++) {\n            if (idx === sliderItems.length - 1) {\n                sliderItems[idx].classList.add(\"slider--item-current\");\n            }\n        }\n    }\n\n\n\n    function init() {\n        console.log(\"document ready!\");\n    }\n\n\n    function navHandler() {\n        var hamBtn = document.getElementById(\"ham--button\");\n        var nav = document.getElementById(\"main--nav\");\n\n        hamBtn.addEventListener(\"click\", function(ev) {\n            ev.preventDefault();\n\n           if (!nav.classList.contains(\"nav--shown\")) {\n                nav.classList.add(\"nav--shown\");\n           } else {\n               nav.classList.remove(\"nav--shown\");\n           }\n        });\n    } \n\n    document.onreadystatechange = function() {\n        if (document.readyState === \"complete\") {\n            init();\n            navHandler();\n            formsHandler = new FormsHandler();\n            formsHandler.init();\n            sliderHandler();\n        }\n    }\n\n}());\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9yZXNvdXJjZXMvYXNzZXRzL2pzL2FwcC5qcz84YjY3Il0sInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcblxuICAgIC8vIGNvbnN0cnVjdG9yIGZ1bmN0aW9uIGZvciBYTUxIdHRwUmVxdWVzdCB0aGF0IHJldHVybiBhIHByb21pc2VcbiAgICBmdW5jdGlvbiBYSFJlcXVlc3QocHJvZ3Jlc3MpIHtcblxuICAgICAgICB2YXIgcENiID0gcHJvZ3Jlc3M7XG5cbiAgICAgICAgZnVuY3Rpb24gYWpheFJlcShtZXRob2QsIHVybCkge1xuICAgICAgICAgICAgdmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZSggZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcblxuICAgICAgICAgICAgICAgIGlmIChwQ2IpIHtcbiAgICAgICAgICAgICAgICAgICAgeGhyLmFkZEV2ZW50TGlzdGVuZXIoXCJwcm9ncmVzc1wiLCBwQ2IucHJvZ3Jlc3MpO1xuICAgICAgICAgICAgICAgICAgICB4aHIuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgcENiLmxvYWQpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHhoci5vcGVuKG1ldGhvZCwgdXJsKTtcbiAgICAgICAgICAgICAgICB4aHIucmVzcG9uc2VUeXBlID0gXCJkb2N1bWVudFwiO1xuICAgICAgICAgICAgICAgIHhoci5zZW5kKCk7XG5cbiAgICAgICAgICAgICAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnJlYWR5U3RhdGUgPT09IDQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh0aGlzLnJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KHRoaXMuc3RhdHVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24odXJsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFqYXhSZXEoXCJHRVRcIiwgdXJsKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwb3N0OiBmdW5jdGlvbih1cmwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYWpheFJlcShcIlBPU1RcIiwgdXJsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgdmFyIGZvcm1zSGFuZGxlcjtcblxuICAgIGZ1bmN0aW9uIEZvcm1zSGFuZGxlcigpIHtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaW5pdDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgZm9ybXNHZXRIYW5kbGVyKCk7XG4gICAgICAgICAgICAgICAgLy8gdGhpcy5mb3JtSGFuZGxlciA9ICBmb3Jtc1Bvc3RIYW5kbGVyO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG1ha2VDaGFuZ2VzOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlcXVlc3RlZERhdGEgPSBkYXRhO1xuICAgICAgICAgICAgICAgIHZhciBmb3JtSG9sZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmb3JtLS1jb250YWluZXJcIik7XG4gICAgICAgICAgICAgICAgdmFyIHJlcXVlc3RlZEZvcm0gPSByZXF1ZXN0ZWREYXRhLmdldEVsZW1lbnRCeUlkKFwiZm9ybS0td3JhcFwiKTtcblxuICAgICAgICAgICAgICAgIGlmIChmb3JtSG9sZGVyLmNsYXNzTGlzdC5jb250YWlucyhcImZvcm0tLXNob3duXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHJlcGxhY2UgdGhlIGZvcm1cbiAgICAgICAgICAgICAgICAgICAgdmFyIG9sZEZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZvcm0tLXdyYXBcIik7XG4gICAgICAgICAgICAgICAgICAgIGZvcm1Ib2xkZXIucmVwbGFjZUNoaWxkKHJlcXVlc3RlZEZvcm0sIG9sZEZvcm0pO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZvcm1SZWYuY3VycmVudC5jbGFzc0xpc3QuYWRkKFwiZm9ybXMtLWl0ZW0tY3VycmVudFwiKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mb3JtUmVmLm9sZC5jbGFzc0xpc3QucmVtb3ZlKFwiZm9ybXMtLWl0ZW0tY3VycmVudFwiKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mb3JtUmVmLm9sZCA9IHRoaXMuZm9ybVJlZi5jdXJyZW50O1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInJlcGxhY2VkXCIpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7IC8vIGlmIG5vIGZvcm0gc2hvd24gYWRkXG4gICAgICAgICAgICAgICAgICAgIGZvcm1Ib2xkZXIuY2xhc3NMaXN0LmFkZChcImZvcm0tLXNob3duXCIpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZvcm1SZWYuY3VycmVudC5jbGFzc0xpc3QuYWRkKFwiZm9ybXMtLWl0ZW0tY3VycmVudFwiKTtcbiAgICAgICAgICAgICAgICAgICAgZm9ybUhvbGRlci5hcHBlbmRDaGlsZChyZXF1ZXN0ZWRGb3JtKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mb3JtUmVmLm9sZCA9IHRoaXMuZm9ybVJlZi5jdXJyZW50O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZm9ybUhhbmRsZXIubGlzdGVuKGZvcm1Ib2xkZXIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImZvcm0tLWJ0blwiKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJhZGRlZFwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZm9ybVJlZjoge1xuICAgICAgICAgICAgICAgIG9sZDogbnVsbCxcbiAgICAgICAgICAgICAgICBjdXJyZW50OiBudWxsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZm9ybUhhbmRsZXI6IHtcbiAgICAgICAgICAgICAgICBsaXN0ZW46IGZ1bmN0aW9uKGZvcm1CdG5zKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGZvcm1CdG5zKTtcbiAgICAgICAgICAgICAgICAgICAgZm9ybUJ0bnNbMF0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgZm9ybUJ0bnNbMV0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBmb3Jtc0dldEhhbmRsZXIoKSB7XG4gICAgICAgIHZhciBmb3Jtc0l0ZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiZm9ybXMtLWl0ZW1cIik7XG4gICAgICAgIHZhciBjdXJyZW50Rm9ybVJlZjtcblxuICAgICAgICB2YXIgcmVzcG9uc2VIYW5kbGVyID0ge1xuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgIGZvcm1zSGFuZGxlci5tYWtlQ2hhbmdlcyhkYXRhKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmYWlsZWQ6IGZ1bmN0aW9uKHN0YXR1cykge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHN0YXR1cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcHJvZ3Jlc3NDYiA9IHtcbiAgICAgICAgICAgIHByb2dyZXNzOiBmdW5jdGlvbihldikge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRGb3JtUmVmLmNsYXNzTGlzdC5hZGQoXCJmb3JtLS1pdGVtLXByb2dyZXNzXCIpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGxvYWQ6IGZ1bmN0aW9uKGV2KSB7XG4gICAgICAgICAgICAgICAgY3VycmVudEZvcm1SZWYuY2xhc3NMaXN0LnJlbW92ZShcImZvcm0tLWl0ZW0tcHJvZ3Jlc3NcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBnZXRGb3Jtcyhldikge1xuICAgICAgICAgICAgZXYucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGV2LnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgICAgICAgICBjdXJyZW50Rm9ybVJlZiA9IHRoaXM7XG4gICAgICAgICAgICBmb3Jtc0hhbmRsZXIuZm9ybVJlZi5jdXJyZW50ID0gdGhpcztcblxuICAgICAgICAgICAgdmFyIHR5cGVBdHRyID0gdGhpcy5nZXRBdHRyaWJ1dGUoXCJkYXRhLXR5cGVcIik7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmNsYXNzTGlzdC5jb250YWlucyhcImZvcm1zLS1pdGVtLWN1cnJlbnRcIikpIHtcbiAgICAgICAgICAgICAgICAgaWYgKGZvcm1zSGFuZGxlci5mb3JtUmVmLm9sZCAmJiB0aGlzID09PSBmb3Jtc0hhbmRsZXIuZm9ybVJlZi5vbGQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9sZEZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZvcm0tLXdyYXBcIik7XG4gICAgICAgICAgICAgICAgICAgIHZhciBmb3JtSG9sZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmb3JtLS1jb250YWluZXJcIik7XG4gICAgICAgICAgICAgICAgICAgIGZvcm1Ib2xkZXIucmVtb3ZlQ2hpbGQob2xkRm9ybSk7XG4gICAgICAgICAgICAgICAgICAgIGZvcm1Ib2xkZXIuY2xhc3NMaXN0LnJlbW92ZShcImZvcm0tLXNob3duXCIpO1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50Rm9ybVJlZi5jbGFzc0xpc3QucmVtb3ZlKFwiZm9ybXMtLWl0ZW0tY3VycmVudFwiKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHVybCA9IFwiL2Zvcm0vXCIgKyB0eXBlQXR0cjtcblxuICAgICAgICAgICAgdmFyIHhocmVxdWVzdCA9IG5ldyBYSFJlcXVlc3QocHJvZ3Jlc3NDYik7XG5cbiAgICAgICAgICAgIHhocmVxdWVzdC5nZXQodXJsKS50aGVuKHJlc3BvbnNlSGFuZGxlci5zdWNjZXNzKS5jYXRjaChyZXNwb25zZUhhbmRsZXIuZmFpbGVkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZm9ybXNJdGVtLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBmb3Jtc0l0ZW1baV0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGdldEZvcm1zKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgdmFyIGZvcm1zUG9zdEhhbmRsZXIgPSB7XG4gICAgICAgIGluaXQ6IGZ1bmN0aW9uKGZvcm1FbCkge1xuICAgICAgICAgICAgZm9ybUVsLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBmdW5jdGlvbiBoYW5kbGVyIGZvciBoYW5kbGluZyBzbGlkZXIgZnJvbSB0aGUgaW5kZXggcGFnZVxuICAgIGZ1bmN0aW9uIHNsaWRlckhhbmRsZXIoKSB7XG4gICAgICAgIHZhciBzbGlkZXJCdG5zID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcInNsaWRlci0tYnRuXCIpO1xuICAgICAgICB2YXIgc2xpZGVySXRlbXMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwic2xpZGVyLS1pdGVtXCIpO1xuICAgICAgICB2YXIgcHJldkJ0bjtcbiAgICAgICAgdmFyIG5leHRCdG47XG4gICAgICAgIHZhciBpdGVtSWR4O1xuICAgICAgICB2YXIgY3VycmVudEl0ZW07XG5cbiAgICAgICAgLy8gbWFraW5nIGNoYW5nZXMgdG8gdGhlIHNsaWRlclxuICAgICAgICBmdW5jdGlvbiBjaGFuZ2VTbGlkZXJJdGVtKGN1cnJlbnQsIGl0ZW0pIHtcbiAgICAgICAgICAgIGN1cnJlbnQuY2xhc3NMaXN0LnJlbW92ZShcInNsaWRlci0taXRlbS1jdXJyZW50XCIpO1xuICAgICAgICAgICAgaXRlbS5jbGFzc0xpc3QuYWRkKFwic2xpZGVyLS1pdGVtLWN1cnJlbnRcIik7XG4gICAgICAgICAgICBcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gb2JqZWN0IGZvciBoYW5kbGluZyBidG5zIGFuZCBzbGlkZXIgaXRlbXMgbG9naWNhbHlcbiAgICAgICAgdmFyIHNDb250cm9sID0ge1xuICAgICAgICAgICAgcHJldmlvdXM6IGZ1bmN0aW9uKGJ0bikge1xuICAgICAgICAgICAgICAgIGlmIChuZXh0QnRuICYmIG5leHRCdG4uZGlzYWJsZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV4dEJ0bi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGZvciAodmFyIGlkeCA9IDA7IGlkeCA8IHNsaWRlckl0ZW1zLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNsaWRlckl0ZW1zW2lkeF0uY2xhc3NMaXN0LmNvbnRhaW5zKFwic2xpZGVyLS1pdGVtLWN1cnJlbnRcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpZHggKyAxID09PSBzbGlkZXJJdGVtcy5sZW5ndGggKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnRuLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpdGVtID0gaWR4ICsgMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZVNsaWRlckl0ZW0oc2xpZGVySXRlbXNbaWR4XSwgc2xpZGVySXRlbXNbaXRlbV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbmV4dDogZnVuY3Rpb24oYnRuKSB7XG4gICAgICAgICAgICAgICAgaWYgKHByZXZCdG4gJiYgcHJldkJ0bi5kaXNhYmxlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBwcmV2QnRuLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaWR4ID0gMDsgaWR4IDwgc2xpZGVySXRlbXMubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2xpZGVySXRlbXNbaWR4XS5jbGFzc0xpc3QuY29udGFpbnMoXCJzbGlkZXItLWl0ZW0tY3VycmVudFwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlkeCAtIDEgPCAwICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ0bi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGl0ZW0gPSBpZHggLSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlU2xpZGVySXRlbShzbGlkZXJJdGVtc1tpZHhdLCBzbGlkZXJJdGVtc1tpdGVtXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGV2ZW50IGxpc3RlbmVyIGhhbmRsZXIsIGRldGVybWluaW5nIHRoZSBidG4gYW5kIGNhbGxpbmcgdGhlIHJpZ2h0IGFjdGlvblxuICAgICAgICBmdW5jdGlvbiBzQnRuSGFuZGxlcihldikge1xuICAgICAgICAgICAgZXYucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGV2LnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgICAgICAgICBzd2l0Y2godGhpcy5uYW1lKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcInByZXZpb3VzLS1idG5cIjpcbiAgICAgICAgICAgICAgICAgICAgc0NvbnRyb2wucHJldmlvdXModGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIHByZXZCdG4gPSB0aGlzO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwibmV4dC0tYnRuXCI6XG4gICAgICAgICAgICAgICAgICAgIHNDb250cm9sLm5leHQodGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIG5leHRCdG4gPSB0aGlzO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG5cblxuICAgICAgICAvLyBmb3IgbG9vcHMgdG8gYWRkIGV2ZW50IGxpc3RlbmVycyB0byBidG5zIGFuZCBpdGVyYXRpbmcgb3ZlciBzbGlkZXIgaXRlbXNcbiAgICAgICAgXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2xpZGVyQnRucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgc2xpZGVyQnRuc1tpXS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgc0J0bkhhbmRsZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2YXIgaWR4ID0gMDsgaWR4IDwgc2xpZGVySXRlbXMubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICAgICAgaWYgKGlkeCA9PT0gc2xpZGVySXRlbXMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgIHNsaWRlckl0ZW1zW2lkeF0uY2xhc3NMaXN0LmFkZChcInNsaWRlci0taXRlbS1jdXJyZW50XCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG5cblxuICAgIGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiZG9jdW1lbnQgcmVhZHkhXCIpO1xuICAgIH1cblxuXG4gICAgZnVuY3Rpb24gbmF2SGFuZGxlcigpIHtcbiAgICAgICAgdmFyIGhhbUJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaGFtLS1idXR0b25cIik7XG4gICAgICAgIHZhciBuYXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1haW4tLW5hdlwiKTtcblxuICAgICAgICBoYW1CdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uKGV2KSB7XG4gICAgICAgICAgICBldi5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgIGlmICghbmF2LmNsYXNzTGlzdC5jb250YWlucyhcIm5hdi0tc2hvd25cIikpIHtcbiAgICAgICAgICAgICAgICBuYXYuY2xhc3NMaXN0LmFkZChcIm5hdi0tc2hvd25cIik7XG4gICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICBuYXYuY2xhc3NMaXN0LnJlbW92ZShcIm5hdi0tc2hvd25cIik7XG4gICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSBcblxuICAgIGRvY3VtZW50Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gXCJjb21wbGV0ZVwiKSB7XG4gICAgICAgICAgICBpbml0KCk7XG4gICAgICAgICAgICBuYXZIYW5kbGVyKCk7XG4gICAgICAgICAgICBmb3Jtc0hhbmRsZXIgPSBuZXcgRm9ybXNIYW5kbGVyKCk7XG4gICAgICAgICAgICBmb3Jtc0hhbmRsZXIuaW5pdCgpO1xuICAgICAgICAgICAgc2xpZGVySGFuZGxlcigpO1xuICAgICAgICB9XG4gICAgfVxuXG59KCkpO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHJlc291cmNlcy9hc3NldHMvanMvYXBwLmpzIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }
/******/ ]);